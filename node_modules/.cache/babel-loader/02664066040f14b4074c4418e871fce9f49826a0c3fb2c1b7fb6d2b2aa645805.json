{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\DeliveryApp\\\\src\\\\pages\\\\ChatBox.js\",\n  _s = $RefreshSig$();\n// ✅ ChatBox.js — Real-time Chat Component\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { io } from 'socket.io-client';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SOCKET_SERVER_URL = 'http://localhost:3001';\nconst ChatBox = ({\n  orderId,\n  userType\n}) => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const socketRef = useRef(null);\n  const bottomRef = useRef(null);\n  useEffect(() => {\n    socketRef.current = io(SOCKET_SERVER_URL);\n    socketRef.current.emit('joinRoom', {\n      orderId\n    });\n    socketRef.current.on('chatMessage', msg => {\n      setMessages(prev => [...prev, msg]);\n    });\n    return () => {\n      socketRef.current.disconnect();\n    };\n  }, [orderId]);\n  useEffect(() => {\n    bottomRef.current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const handleSend = () => {\n    if (!newMessage.trim()) return;\n    const msgData = {\n      orderId,\n      sender: userType,\n      message: newMessage\n    };\n    socketRef.current.emit('chatMessage', msgData);\n    setNewMessage('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.chatContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: styles.chatTitle,\n      children: \"Chat\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.chatMessages,\n      children: [messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: msg.sender === userType ? styles.myMessage : styles.theirMessage,\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [msg.sender, \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), \" \", msg.message]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: bottomRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.inputRow,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Type your message...\",\n        value: newMessage,\n        onChange: e => setNewMessage(e.target.value),\n        style: styles.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSend,\n        style: styles.sendButton,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatBox, \"4rnGMK3yFnfrB73s7OFTlzX1N7o=\");\n_c = ChatBox;\nconst styles = {\n  chatContainer: {\n    marginTop: '30px',\n    padding: '20px',\n    backgroundColor: '#fff',\n    borderRadius: '10px',\n    boxShadow: '0 0 8px rgba(0,0,0,0.1)'\n  },\n  chatTitle: {\n    marginBottom: '10px'\n  },\n  chatMessages: {\n    height: '200px',\n    overflowY: 'auto',\n    padding: '10px',\n    backgroundColor: '#f9f9f9',\n    borderRadius: '8px',\n    marginBottom: '10px'\n  },\n  inputRow: {\n    display: 'flex',\n    gap: '10px'\n  },\n  input: {\n    flex: 1,\n    padding: '10px',\n    borderRadius: '5px',\n    border: '1px solid #ccc'\n  },\n  sendButton: {\n    padding: '10px 15px',\n    backgroundColor: '#4CAF50',\n    color: 'white',\n    border: 'none',\n    borderRadius: '5px',\n    cursor: 'pointer'\n  },\n  myMessage: {\n    textAlign: 'right',\n    backgroundColor: '#e0f7fa',\n    marginBottom: '5px',\n    padding: '5px 10px',\n    borderRadius: '8px'\n  },\n  theirMessage: {\n    textAlign: 'left',\n    backgroundColor: '#eeeeee',\n    marginBottom: '5px',\n    padding: '5px 10px',\n    borderRadius: '8px'\n  }\n};\nexport default ChatBox;\nvar _c;\n$RefreshReg$(_c, \"ChatBox\");","map":{"version":3,"names":["React","useState","useEffect","useRef","io","axios","jsxDEV","_jsxDEV","SOCKET_SERVER_URL","ChatBox","orderId","userType","_s","messages","setMessages","newMessage","setNewMessage","socketRef","bottomRef","current","emit","on","msg","prev","disconnect","scrollIntoView","behavior","handleSend","trim","msgData","sender","message","style","styles","chatContainer","children","chatTitle","fileName","_jsxFileName","lineNumber","columnNumber","chatMessages","map","idx","myMessage","theirMessage","ref","inputRow","type","placeholder","value","onChange","e","target","input","onClick","sendButton","_c","marginTop","padding","backgroundColor","borderRadius","boxShadow","marginBottom","height","overflowY","display","gap","flex","border","color","cursor","textAlign","$RefreshReg$"],"sources":["C:/xampp/htdocs/DeliveryApp/src/pages/ChatBox.js"],"sourcesContent":["// ✅ ChatBox.js — Real-time Chat Component\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport axios from 'axios';\r\n\r\nconst SOCKET_SERVER_URL = 'http://localhost:3001';\r\n\r\nconst ChatBox = ({ orderId, userType }) => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const socketRef = useRef(null);\r\n  const bottomRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    socketRef.current = io(SOCKET_SERVER_URL);\r\n    socketRef.current.emit('joinRoom', { orderId });\r\n\r\n    socketRef.current.on('chatMessage', (msg) => {\r\n      setMessages((prev) => [...prev, msg]);\r\n    });\r\n\r\n    return () => {\r\n      socketRef.current.disconnect();\r\n    };\r\n  }, [orderId]);\r\n\r\n  useEffect(() => {\r\n    bottomRef.current.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  const handleSend = () => {\r\n    if (!newMessage.trim()) return;\r\n    const msgData = {\r\n      orderId,\r\n      sender: userType,\r\n      message: newMessage\r\n    };\r\n    socketRef.current.emit('chatMessage', msgData);\r\n    setNewMessage('');\r\n  };\r\n\r\n  return (\r\n    <div style={styles.chatContainer}>\r\n      <h3 style={styles.chatTitle}>Chat</h3>\r\n      <div style={styles.chatMessages}>\r\n        {messages.map((msg, idx) => (\r\n          <div\r\n            key={idx}\r\n            style={msg.sender === userType ? styles.myMessage : styles.theirMessage}\r\n          >\r\n            <strong>{msg.sender}:</strong> {msg.message}\r\n          </div>\r\n        ))}\r\n        <div ref={bottomRef} />\r\n      </div>\r\n      <div style={styles.inputRow}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Type your message...\"\r\n          value={newMessage}\r\n          onChange={(e) => setNewMessage(e.target.value)}\r\n          style={styles.input}\r\n        />\r\n        <button onClick={handleSend} style={styles.sendButton}>Send</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  chatContainer: {\r\n    marginTop: '30px',\r\n    padding: '20px',\r\n    backgroundColor: '#fff',\r\n    borderRadius: '10px',\r\n    boxShadow: '0 0 8px rgba(0,0,0,0.1)'\r\n  },\r\n  chatTitle: {\r\n    marginBottom: '10px'\r\n  },\r\n  chatMessages: {\r\n    height: '200px',\r\n    overflowY: 'auto',\r\n    padding: '10px',\r\n    backgroundColor: '#f9f9f9',\r\n    borderRadius: '8px',\r\n    marginBottom: '10px'\r\n  },\r\n  inputRow: {\r\n    display: 'flex',\r\n    gap: '10px'\r\n  },\r\n  input: {\r\n    flex: 1,\r\n    padding: '10px',\r\n    borderRadius: '5px',\r\n    border: '1px solid #ccc'\r\n  },\r\n  sendButton: {\r\n    padding: '10px 15px',\r\n    backgroundColor: '#4CAF50',\r\n    color: 'white',\r\n    border: 'none',\r\n    borderRadius: '5px',\r\n    cursor: 'pointer'\r\n  },\r\n  myMessage: {\r\n    textAlign: 'right',\r\n    backgroundColor: '#e0f7fa',\r\n    marginBottom: '5px',\r\n    padding: '5px 10px',\r\n    borderRadius: '8px'\r\n  },\r\n  theirMessage: {\r\n    textAlign: 'left',\r\n    backgroundColor: '#eeeeee',\r\n    marginBottom: '5px',\r\n    padding: '5px 10px',\r\n    borderRadius: '8px'\r\n  }\r\n};\r\n\r\nexport default ChatBox;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}