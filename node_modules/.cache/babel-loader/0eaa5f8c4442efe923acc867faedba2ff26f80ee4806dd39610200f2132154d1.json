{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useParams}from'react-router-dom';import{MapContainer,TileLayer,Marker,Popup}from'react-leaflet';import L from'leaflet';import'leaflet/dist/leaflet.css';import axios from'axios';// For making API requests\n// Fix for default marker icons\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";delete L.Icon.Default.prototype._getIconUrl;L.Icon.Default.mergeOptions({iconRetinaUrl:require('leaflet/dist/images/marker-icon-2x.png'),iconUrl:require('leaflet/dist/images/marker-icon.png'),shadowUrl:require('leaflet/dist/images/marker-shadow.png')});const OrderTracking=()=>{const{orderId}=useParams();const[order,setOrder]=useState({id:orderId,status:'',pickup_address:'',delivery_address:'',driver_location:[51.505,-0.09]// Default location\n});const[loading,setLoading]=useState(true);const[error,setError]=useState('');// Fetch order details and driver location on component mount\nuseEffect(()=>{const fetchData=async()=>{try{const response=await axios.get(`http://localhost:3000/orders/${orderId}`);setOrder(response.data);}catch(err){setError('Failed to fetch order details');console.error('Fetch error:',err);}finally{setLoading(false);}};fetchData();},[orderId]);if(loading)return/*#__PURE__*/_jsx(\"p\",{style:styles.loadingText,children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{style:styles.errorText,children:error});return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsxs(\"header\",{style:styles.header,children:[/*#__PURE__*/_jsx(\"h1\",{style:styles.headerTitle,children:\"Order Tracking\"}),/*#__PURE__*/_jsx(Link,{to:\"/shop-owner-dashboard\",style:styles.navLink,children:\"Back to Dashboard\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.content,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.orderDetails,children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Order #\",order.id]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{style:styles.status,children:order.status})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Pickup:\"}),\" \",order.pickup_address]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Delivery:\"}),\" \",order.delivery_address]})]}),/*#__PURE__*/_jsx(\"div\",{style:styles.mapContainer,children:/*#__PURE__*/_jsxs(MapContainer,{center:order.driver_location,zoom:13,style:styles.map,children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",attribution:\"\\xA9 OpenStreetMap contributors\"}),/*#__PURE__*/_jsx(Marker,{position:order.driver_location,children:/*#__PURE__*/_jsx(Popup,{children:\"Driver is here!\"})})]})})]})]});};// Inline CSS Styles\nconst styles={container:{minHeight:'100vh',backgroundColor:'#f0f2f5',fontFamily:'Arial, sans-serif'},header:{backgroundColor:'#4CAF50',color:'white',padding:'20px',display:'flex',justifyContent:'space-between',alignItems:'center'},headerTitle:{margin:0},navLink:{color:'white',textDecoration:'none',fontSize:'16px'},content:{padding:'30px',maxWidth:'1200px',margin:'0 auto'},orderDetails:{backgroundColor:'white',padding:'20px',borderRadius:'10px',boxShadow:'0 2px 10px rgba(0,0,0,0.1)',marginBottom:'30px'},status:{color:'#4CAF50',fontWeight:'bold'},mapContainer:{backgroundColor:'white',padding:'20px',borderRadius:'10px',boxShadow:'0 2px 10px rgba(0,0,0,0.1)'},map:{height:'400px',width:'100%',borderRadius:'5px'},loadingText:{textAlign:'center',marginTop:'50px',fontSize:'18px'},errorText:{textAlign:'center',marginTop:'50px',color:'red',fontSize:'18px'}};export default OrderTracking;","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","MapContainer","TileLayer","Marker","Popup","L","axios","jsx","_jsx","jsxs","_jsxs","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","OrderTracking","orderId","order","setOrder","id","status","pickup_address","delivery_address","driver_location","loading","setLoading","error","setError","fetchData","response","get","data","err","console","style","styles","loadingText","children","errorText","container","header","headerTitle","to","navLink","content","orderDetails","mapContainer","center","zoom","map","url","attribution","position","minHeight","backgroundColor","fontFamily","color","padding","display","justifyContent","alignItems","margin","textDecoration","fontSize","maxWidth","borderRadius","boxShadow","marginBottom","fontWeight","height","width","textAlign","marginTop"],"sources":["C:/xampp/htdocs/DeliveryApp/src/pages/OrderTracking.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport axios from 'axios'; // For making API requests\r\n\r\n// Fix for default marker icons\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\r\n});\r\n\r\nconst OrderTracking = () => {\r\n  const { orderId } = useParams();\r\n  const [order, setOrder] = useState({\r\n    id: orderId,\r\n    status: '',\r\n    pickup_address: '',\r\n    delivery_address: '',\r\n    driver_location: [51.505, -0.09], // Default location\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  // Fetch order details and driver location on component mount\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.get(`http://localhost:3000/orders/${orderId}`);\r\n        setOrder(response.data);\r\n      } catch (err) {\r\n        setError('Failed to fetch order details');\r\n        console.error('Fetch error:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [orderId]);\r\n\r\n  if (loading) return <p style={styles.loadingText}>Loading...</p>;\r\n  if (error) return <p style={styles.errorText}>{error}</p>;\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <header style={styles.header}>\r\n        <h1 style={styles.headerTitle}>Order Tracking</h1>\r\n        <Link to=\"/shop-owner-dashboard\" style={styles.navLink}>Back to Dashboard</Link>\r\n      </header>\r\n\r\n      <div style={styles.content}>\r\n        <div style={styles.orderDetails}>\r\n          <h2>Order #{order.id}</h2>\r\n          <p><strong>Status:</strong> <span style={styles.status}>{order.status}</span></p>\r\n          <p><strong>Pickup:</strong> {order.pickup_address}</p>\r\n          <p><strong>Delivery:</strong> {order.delivery_address}</p>\r\n        </div>\r\n\r\n        <div style={styles.mapContainer}>\r\n          <MapContainer\r\n            center={order.driver_location}\r\n            zoom={13}\r\n            style={styles.map}\r\n          >\r\n            <TileLayer\r\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n              attribution='&copy; OpenStreetMap contributors'\r\n            />\r\n            <Marker position={order.driver_location}>\r\n              <Popup>Driver is here!</Popup>\r\n            </Marker>\r\n          </MapContainer>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Inline CSS Styles\r\nconst styles = {\r\n  container: {\r\n    minHeight: '100vh',\r\n    backgroundColor: '#f0f2f5',\r\n    fontFamily: 'Arial, sans-serif',\r\n  },\r\n  header: {\r\n    backgroundColor: '#4CAF50',\r\n    color: 'white',\r\n    padding: '20px',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n  },\r\n  headerTitle: {\r\n    margin: 0,\r\n  },\r\n  navLink: {\r\n    color: 'white',\r\n    textDecoration: 'none',\r\n    fontSize: '16px',\r\n  },\r\n  content: {\r\n    padding: '30px',\r\n    maxWidth: '1200px',\r\n    margin: '0 auto',\r\n  },\r\n  orderDetails: {\r\n    backgroundColor: 'white',\r\n    padding: '20px',\r\n    borderRadius: '10px',\r\n    boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\r\n    marginBottom: '30px',\r\n  },\r\n  status: {\r\n    color: '#4CAF50',\r\n    fontWeight: 'bold',\r\n  },\r\n  mapContainer: {\r\n    backgroundColor: 'white',\r\n    padding: '20px',\r\n    borderRadius: '10px',\r\n    boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\r\n  },\r\n  map: {\r\n    height: '400px',\r\n    width: '100%',\r\n    borderRadius: '5px',\r\n  },\r\n  loadingText: {\r\n    textAlign: 'center',\r\n    marginTop: '50px',\r\n    fontSize: '18px',\r\n  },\r\n  errorText: {\r\n    textAlign: 'center',\r\n    marginTop: '50px',\r\n    color: 'red',\r\n    fontSize: '18px',\r\n  },\r\n};\r\n\r\nexport default OrderTracking;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}